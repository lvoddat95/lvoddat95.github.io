<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Demo for jQuery validate plugin</title>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"
        type="text/javascript"></script>
    <script type="text/javascript">
        $().ready(function () {
            $("#demoForm").validate({
                onfocusout: false,
                onkeyup: false,
                onclick: false,
                rules: {
                    "user": {
                        required: true,
                        maxlength: 15
                    },
                    "password": {
                        required: true,
                        minlength: 8,
                        validatePassword: true,
                    },
                    "re-password": {
                        equalTo: "#password",
                        minlength: 8
                    },
                    "to-date": {
                        validateDateRange: true
                    },
                }
            });
        });

        $.validator.addMethod("validatePassword", function (value, element) {
            return this.optional(element) || /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}$/i.test(value);
        }, "Hãy nhập password từ 8 đến 16 ký tự bao gồm chữ hoa, chữ thường và ít nhất một chữ số");

        $.validator.addMethod("validateDateRange", function (value, element) {
            var fromDate = new Date($("#from-date").val());
            var toDate = new Date(value);
            return this.optional(element) || toDate >= fromDate;
        }, "Ngày kết thúc phải lớn hơn hoặc bằng ngày bắt đầu");

        // alias required to cRequired with new message
        $.validator.addMethod("cRequired", $.validator.methods.required,
            "Customer name required");
        // alias minlength, too
        $.validator.addMethod("cMinlength", $.validator.methods.minlength,
            // leverage parameter replacement for minlength, {0} gets replaced with 2
            $.validator.format("Customer name must have at least {0} characters"));

        // combine them both, including the parameter for minlength
        $.validator.addClassRules("customer", { cRequired: true, validateDateRange: true });

        jQuery.validator.addMethod("laxEmail", function (value, element) {
            // allow any non-whitespace characters as the host part
            return this.optional(element) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@(?:\S{1,63})$/.test(value);
        }, 'Please enter a valid email address.');

        $.validator.addClassRules("customer", { cRequired: true, validateDateRange: true });
        $.validator.addClassRules("laxEmail", { required: true, laxEmail: true });


    </script>
    <style>
        label.error {
            color: red;
        }
    </style>
</head>

<body>
    <div id="main">
        <form method="get" id="demoForm" action="">


            <input name="customer1" class="customer" type="date">

            <input name="laxEmail" class="laxEmail" type="email" placeholder="email">

            <br><br>
            <input required data-msg="Please fill this field" data-rule-password="true">
            <input data-rule-minlength="2" data-rule-maxlength="4" data-msg-minlength="At least two chars"
                data-msg-maxlength="At most four chars">
            <br>
            <p>
                <label>Username</label>
                <input name="user" type="text" />
            </p>
            <p>
                <label>Password</label>
                <input id="password" type="password" name="password" />
            </p>
            <p>
                <label>Re-Password</label>
                <input id="re-password" type="password" name="re-password" />
            </p>
            <p>
                <label>From date</label>
                <input id="from-date" type="date" name="from-date" />
            </p>
            <p>
                <label>To date</label>
                <input id="rto-date" type="date" name="to-date" />
            </p>
            <p>
                <input type="submit" value="Register" id="register" />
            </p>
        </form>
    </div>
</body>

</html>